@import 'typography';

.conversion-graph {
    max-width: 954px;
    max-height: 200px;

    .x-axis {
      .selected text {
        font-weight:bold;
      }

      text {
        font-size:12px;
        font-size:1.2rem;
      }
    }
    
    .inner {
      top: 40px;
      bottom: 30px;
      left: 0px;
      right: 0px;
    }

    .half-width & {
      max-width: 464px;
    }

    .bar {
      text {
        @include core-19;
      }

      rect {
        stroke-width: 2px;
        &.stack0 { stroke: mix($data-colour-1, $white, 25%); }
        &.stack1 { stroke: mix($data-colour-2, $white, 25%); }
        &.stack2 { stroke: mix($data-colour-3, $white, 25%); }
        &.stack3 { stroke: mix($data-colour-4, $white, 25%); }
        &.stack4 { stroke: mix($data-colour-5, $white, 25%); }
        &.stack5 { stroke: mix($data-colour-6, $white, 25%); }
      }

      .selected {

        text {
          font-weight: bold;
        }

        line {
          stroke-width:4px;
        }

        rect {
          &.stack0 { stroke: $data-colour-1; }
          &.stack1 { stroke: $data-colour-2; }
          &.stack2 { stroke: $data-colour-3; }
          &.stack3 { stroke: $data-colour-4; }
          &.stack4 { stroke: $data-colour-5; }
          &.stack5 { stroke: $data-colour-6; }
        }
      }
    }

    .callout {
      position:relative;
      width:100%;
      margin-top:4px;

      .date {
        float:right;
      }

      dl dt {
        max-width:none;
      }

      .arrow {
        height:20px;
        margin-top:-40px;
        position:absolute;
        overflow:hidden;
                transform: scaleX(2);
            -ms-transform: scaleX(2);
        -webkit-transform: scaleX(2);
        text-shadow: 0 0 3px rgba(0, 0, 0, 0.65);
        color: $grey-4;
        font-size:20px;

        .inner-arrow {
          .no-textshadow & {
            // FIXME: this needs to be targeted at IE9 specifically,
            // not just any no-textshadow browser
            position:absolute;
            display:block;
            top:-1px;
            margin-left:-6px;
            left:3px;
          }
        }

        .outer-arrow {
          margin-top:-4px;
          margin-left:-6px;
          display:none;

          .no-textshadow & {
            // FIXME: this needs to be targeted at IE9 specifically,
            // not just any no-textshadow browser
            display:block;
            color:$black;
            filter: progid:DXImageTransform.Microsoft.Blur(pixelradius=3);
          }
        }
      }
    }
}

@media (max-width: 640px) {
  
  .half-width .conversion-graph {
    max-width: 954px;
    .arrow {
      display:none;
    }
  }

}


@media (max-width: 320px) {
  
  .conversion-graph {
    .x-axis text {
      font-size:8px;
      font-size:0.8rem;
    }
  }
}
