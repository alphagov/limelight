define([
  'require',
  '../response',
  '../random',
  'lodash'
], function (require, Response, Random, _) {
  
  var LicensingResponse = Response.extend({
    
    initialize: function () {
      this.rnd = new Random(1);
    },
    
    url: /\/licensing\/?.*\?(.*)/,
    
    queryId: 'applications-detail-lastweek',
    
    getData: function (query) {
      
      if (query.group_by == 'authorityUrlSlug') {
        return this.getAuthorities(query);
      }
      
      if (query.group_by == 'licenceUrlSlug') {
        return this.getLicences(query);
      }
      
    },
    
    getAuthorities: function (query) {
      var values = _.map(this.authorities, function (name) {
        return {
          authorityUrlSlug: name.replace(' ', '-').toLowerCase(),
          _count: Math.floor(this.rnd(0, 1e4)),
          authorityName: [name]
        }
      }, this);
      
      var licenceUrlSlug = query.filter_by.split(':')[1];
      var licenceName = {
        "application-to-licence-a-street-collection": "Application to licence a street collection",
        "register-as-a-scrap-metal-dealer": "Register as a scrap metal dealer"
      }[licenceUrlSlug];
      _.each(values, function (value, key) {
        value.licenceName = [licenceName];
      });
      
      return values;
    },
    
    getLicences: function (query) {
      var values = _.map(this.licences, function (name) {
        return {
          licenceUrlSlug: name.replace(' ', '-').toLowerCase(),
          _count: Math.floor(this.rnd(0, 1e4)),
          licenceName: [name]
        }
      }, this);
      
      var authorityUrlSlug = query.filter_by.split(':')[1];
      var authorityName = {
        "fake-authority-1": "Fake Authority One",
        "fake-authority-2": "Fake Authority Two"
      }[authorityUrlSlug];
      _.each(values, function (value, key) {
        value.authorityName = [authorityName];
      });
      
      return values;
    },
    
    authorities: [
      "Aberdeen",
      "Adur",
      "Armagh",
      "Aylesbury",
      "Babergh",
      "Ballymena",
      "Ballymoney",
      "Barking",
      "Barnet",
      "Barnsley",
      "Bath",
      "Bedford",
      "Belfast",
      "Bexley",
      "Birmingham",
      "Blaby",
      "Blackburn",
      "Blackpool",
      "Bolsover",
      "Bolton",
      "Boston",
      "Bournemouth",
      "Bracknell",
      "Bradford",
      "Brent",
      "Brentwood",
      "Brighton",
      "Bristol",
      "Broadland",
      "Bromley",
      "Bromsgrove",
      "Broxbourne",
      "Broxtowe",
      "Burnley",
      "Bury",
      "Caerphilly",
      "Calderdale",
      "Cambridge",
      "Camden",
      "Cannock",
      "Canterbury",
      "Cardiff",
      "Carlisle",
      "Castlereagh",
      "Central",
      "Charnwood",
      "Chelmsford",
      "Cheltenham",
      "Cheshire",
      "Cheshire",
      "Chichester",
      "Chiltern",
      "Colchester",
      "Cornwall",
      "Corporation",
      "Cotswold",
      "Coventry",
      "Croydon",
      "Dartford",
      "Derby",
      "Derbyshire",
      "Derry",
      "Doncaster",
      "Dover",
      "Dudley",
      "Dundee",
      "Dungannon",
      "Durham",
      "Ealing",
      "East Devon",
      "East Dunbartonshire",
      "East Hampshire",
      "East Hertfordshire",
      "East Staffordshire",
      "Eastleigh",
      "Edinburgh",
      "Elmbridge",
      "Enfield",
      "Epping",
      "Epsom",
      "Erewash",
      "Exeter",
      "Falkirk",
      "Fareham",
      "Fenland",
      "Fife",
      "Forest",
      "Forest",
      "Gateshead",
      "Gedling",
      "Glasgow",
      "Gloucester",
      "Gravesham",
      "Greenwich",
      "Hackney",
      "Halton",
      "Hammersmith",
      "Harborough",
      "Haringey",
      "Harrogate",
      "Harrow",
      "Hastings",
      "Havering",
      "Herefordshire",
      "Hertsmere",
      "Hillingdon",
      "Horsham",
      "Hounslow",
      "Huntingdonshire",
      "Ipswich",
      "Islington",
      "Kensington",
      "King's",
      "Kingston",
      "Kingston-upon-Hull",
      "Kirklees",
      "Lambeth",
      "Lancaster",
      "Leeds",
      "Leicester",
      "Lewes",
      "Lewisham",
      "Lichfield",
      "Limavady",
      "Lincoln",
      "Liverpool",
      "Luton",
      "Maidstone",
      "Manchester",
      "Medway",
      "Merton",
      "Mid",
      "Midlothian",
      "Milton",
      "Monmouthshire",
      "Neath",
      "New",
      "Newcastle",
      "Newham",
      "Newport",
      "Newry",
      "Newtownabbey",
      "North",
      "North",
      "North",
      "North",
      "North",
      "North",
      "Northampton",
      "Northumberland",
      "Norwich",
      "Nottingham",
      "Nuneaton",
      "Oldham",
      "Oxford",
      "Pendle",
      "Perth",
      "Peterborough",
      "Plymouth",
      "Poole",
      "Portsmouth",
      "Powys",
      "Preston",
      "Reading",
      "Redbridge",
      "Reigate",
      "Renfrewshire",
      "Rhondda-Cynon-Taff",
      "Ribble",
      "Richmond",
      "Rochdale",
      "Rochford",
      "Rotherham",
      "Rugby",
      "Runnymede",
      "Rushcliffe",
      "Rushmoor",
      "Ryedale",
      "Salford",
      "Sandwell",
      "Scarborough",
      "Sefton",
      "Sevenoaks",
      "Sheffield",
      "Shropshire",
      "Slough",
      "South Bucks",
      "South Cambridgeshire",
      "South Gloucestershire",
      "South Hams",
      "South Kesteven",
      "South Lakeland",
      "South Lanarkshire",
      "South Northamptonshire",
      "South Oxfordshire",
      "South Ribble",
      "South Somerset",
      "South Staffordshire",
      "South Tyneside",
      "Southampton",
      "Southwark",
      "Spelthorne",
      "St Albans",
      "St Edmundsbury",
      "St Helens",
      "Stockport",
      "Stoke-on-Trent",
      "Strabane",
      "Stratford",
      "Suffolk",
      "Surrey",
      "Sutton",
      "Swale",
      "Swansea",
      "Tameside",
      "Taunton",
      "Teignbridge",
      "Tewkesbury",
      "Thanet",
      "Three",
      "Thurrock",
      "Tonbridge",
      "Torbay",
      "Tower",
      "Tunbridge",
      "Uttlesford",
      "Vale",
      "Wakefield",
      "Walsall",
      "Waltham",
      "Wandsworth",
      "Warrington",
      "Warwick",
      "Watford",
      "Waverley",
      "West Berkshire",
      "West Dorset",
      "West Lancashire",
      "West Lothian",
      "West Oxfordshire",
      "Westminster",
      "Wigan",
      "Wiltshire",
      "Winchester",
      "Windsor",
      "Wokingham",
      "Wolverhampton",
      "Worcester",
      "Worthing",
      "Wychavon",
      "Wycombe",
      "Wyre",
      "Wyre Forest",
      "York"
    ],
    
    licences: [
      "Ability to place tables and chairs in the road",
      "Actuaries",
      "Adult placement",
      "Adult placement service",
      "Adventure Activities Licence",
      "Advocate",
      "Air Conditioning System Energy Assessor",
      "Air travel organiser's licence (ATOL)",
      "Animal boarding establishment licence",
      "Animal boarding establishments",
      "Animal by-products approval",
      "Animal Movement",
      "Animal movement (cattle) notification",
      "Animal movement notification",
      "Animal transport authorisation (long/short)",
      "Animal transport, long journey vehicle approval",
      "Application for Business Boat Licence",
      "Application for Registration of an Independent School",
      "Application for the Childcare Register: childcare provider on domestic or non-domestic premises",
      "Application for the Childcare Register: childminder",
      "Application for the Childcare Register: home childcarer",
      "Application for the Early Years Register: childcare provider on domestic or non-domestic premises",
      "Application for the Early Years Register: childminder",
      "Application to register as a children's social care provider: adoption support agency",
      "Application to register as a children's social care provider: children's home",
      "Application to register as a children's social care provider: independent fostering service",
      "Application to register as a children's social care provider: residential family centre",
      "Application to register as a children's social care provider: voluntary adoption agency",
      "Application to use street or pavement space for displays",
      "Approval of a centre to offer SQA qualifications",
      "Approval of course leading to external qualification",
      "Approval of Home Child Carers",
      "Approval of independent school inspector",
      "Approval of independent school inspectorates",
      "Approval of meat plants with veterinary attendance",
      "Approval of premises for civil marriage",
      "Approval of premises for civil marriage and civil partnership",
      "Approved Driving Instructor",
      "Architect",
      "Assembly Centre Approval",
      "Auction premises registration",
      "Audit registration",
      "Authorisation for a firm to undertake UK audit work",
      "Authorisation to undertake audit work",
      "Barrister",
      "Boat hire licence",
      "Builder, competent person accreditor",
      "Buildings: Indvidual and corporate approved inspectors",
      "Busking licence",
      "Camp site licence",
      "Car boot sale authorisation",
      "Caravan and camping site licence",
      "Care at home services",
      "Certificate enabling a premises to offer tourist accommodation",
      "Certificate of fitness for properties built before 1945",
      "Charitable collection permit",
      "Chemical supply and storage (pesticide spraying etc)",
      "Childminder",
      "Claims management",
      "Club licensing",
      "Commercial (Non-Domestic) Energy Assessor",
      "Company registration",
      "Consents for leaflet distribution",
      "Conveyancers",
      "Cooling tower notification",
      "Day care facilities for under 12s",
      "Day nurseries",
      "Declaration of compliance with NIEA greenfield soils guidance 1",
      "Depositing material at sea licence (FEPA)",
      "Direct appointment as an approved certifier of design or construction",
      "Discharge of trade effluent permit",
      "Dispensation to allow the display of fireworks late at night",
      "Disposal of dredged material at sea",
      "Diving a designated wreck",
      "Domestic Energy Assessor - Existing Buildings",
      "Domiciliary care agencies",
      "Electricity Distribution Licence",
      "Electricity Generation Licence",
      "Electricity Supply Licence",
      "Electricity Transmission Licence",
      "Electricty Interconnector",
      "Emissions trading scheme",
      "Energy assessor",
      "Entertainment",
      "Environmental permitting",
      "Environmental permitting (national level)",
      "Estate agency",
      "Executry practitioners",
      "Fellow of the Institute of Legal Executives",
      "Food premises approval",
      "Food premises registration",
      "Gas appliances or fittings work",
      "Gas Interconnector",
      "Gas shipper",
      "Gas supplier",
      "Gas transporter",
      "Generation, transmission, distribution and supply of electricity",
      "Guard dog kennels",
      "Hairdresser licence",
      "Hairdresser registration",
      "Hazardous Waste Disposal",
      "Hold, keep or release any of the specified species of non-native fish",
      "House in multiple occupancy",
      "House in multiple occupation licence",
      "House to house collection",
      "House to house collection licence",
      "Hypnotism permit",
      "Independent school (children's home)",
      "Independent school standards",
      "Indoor sports entertainment licence",
      "Insolvency practitioner",
      "Insolvency practitioner authorisation",
      "Insolvency practitioner licence",
      "Integrated Pollution Prevention Control (IPPC) permit",
      "Itinerant metal dealer licence",
      "Knife dealer licence",
      "Land drainage consents",
      "Laser or intense pulsed light treatment",
      "Late hours catering licence",
      "Law costs draftsmen",
      "Licence to buy and sell salmon, trout, pike, eel or pollan",
      "Licence to dispose of waste in the sea",
      "Licence to kill or take certain birds and animals",
      "Licence to kill or take certain birds and animals outside 12 mile limit",
      "Licensed Conveyancers",
      "Licenses and consents for structures over, along and under the highway",
      "Listed veterinary nurse",
      "Local air pollution control authorisation (LAPPC), Part C",
      "Marine construction works, land reclamation,beach replenishment licence (FEPA)",
      "Marine works consent",
      "Market Operator",
      "Market operators licence",
      "Market stall licence",
      "Massage and special treatment premises licensing",
      "Massage and special treatment, therapist registration",
      "Metal dealer licence",
      "Miscellaneous Payments",
      "Money laundering registration by professional bodies",
      "Money laundering registration of estate agents",
      "MOT testing authorisation",
      "Motor salvage operator registration",
      "National registration scheme for private landlords",
      "New Marina Application",
      "Nurse agency",
      "Nursing agency",
      "Occasional licence",
      "Occupation of the road in connection with building work",
      "On-Construction Domestic Energy Assessor (OCDEA)",
      "Operational Ratings Assessor (Production of Display Energy Certificates)",
      "Packaging waste registration",
      "Performing animals registration",
      "Permission to place tables and chairs in the road",
      "Personal licence to sell alcohol",
      "Pet shop licence",
      "Petroleum storage licence",
      "Pleasure boats",
      "Pollution prevention and control(PPC)- Part A",
      "Pollution prevention and control(PPC)- Part B",
      "Postal operators",
      "PPC - Dry cleaning",
      "PPC - Petrol Vapour Recovery",
      "PPC - Solvent emissions",
      "Premises licence",
      "Processing personal data",
      "Protected species licensing",
      "Protected wreck site licences",
      "Public entertainment licence",
      "Quarantine kennel",
      "Raised structures",
      "Register as Number Plate Suppliers",
      "Registration as a children's home",
      "Registration carrier / broker of controlled waste",
      "Registration of Farriers",
      "Registration of Independent school",
      "Reporting of pollution inventory data",
      "Reporting of pollution inventory data (part of EPR)",
      "Residential care homes",
      "Residential family centre",
      "Riding establishment",
      "Riding establishment licence",
      "Road/street works operative",
      "Road/street works supervisor",
      "Safety certificates for regulated stands at sports grounds",
      "Safety certificates for sports grounds",
      "Scheme for certificate of design or construction",
      "Scheme provider for certificate of design or construction",
      "School approved for special needs",
      "Scrap metal dealer registration",
      "Second hand dealers",
      "Second hand dealers registration",
      "Sex establishment / sex cinema",
      "Sex shop",
      "Sex shop and cinema licence",
      "Skin piercing and tattooing",
      "Skip licence",
      "Skip operator licence",
      "Slaughterman",
      "Social landlords",
      "Solicitor",
      "Special school approval",
      "Special Waste Disposal",
      "Street collection",
      "Street collection licence",
      "Street trader's licence",
      "Street trading licence",
      "Streetworks and running pipes/cables under road",
      "Sunday trading",
      "Support services providing day care to adults",
      "Tattooists, piercing and electrolysis licence",
      "Temporary event notice",
      "Test Licence",
      "Theatre licence",
      "Transmissible spongiform encephalopathies testing",
      "Transportation & supply of water",
      "Travelling circus animal welfare",
      "Venison dealer licence",
      "Veterinary surgeon",
      "Waste broker",
      "Waste carrier",
      "Waste carrier or broker",
      "Waste electrical and electronic equipment accreditation  scheme",
      "Waste management",
      "Waste management licence",
      "Waste packaging accreditation",
      "Water discharge consent",
      "Water discharge consents",
      "Water environment controlled activities (CAR) consents",
      "Weighbridge operator certificate",
      "Wildlife licence",
      "Window cleaner",
      "Zoo licence"
    ]
    
  });
  
  return LicensingResponse;
});
