<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Jasmine Spec Runner</title>
<% css.forEach(function(style){ %>
  <link rel="stylesheet" type="text/css" href="/<%= style %>">
<% }) %>
<% with (scripts) { %>
  <script src="./app/vendor/jquery.js" type="text/javascript"></script>
  <script data-main="app/config.js" src="./app/vendor/require.js"></script>
  
                                    
  <%
  [].concat(jasmine, vendor, helpers, reporters).forEach(function(script){
    if (script.indexOf('jquery.mockjax') >= 0) {
      return;
    }
  %>
  <script src="<%= script %>"></script>
  <% }) %>

  <script type="text/javascript" charset="utf-8">
    var specs = [
      <% specs.forEach(function(spec){ %>
      "<%= spec %>",
      <% }) %>
    ];
    
    require(specs, function () {
      var jasmineEnv = jasmine.getEnv();

      jasmineEnv.updateInterval = 1000;
      var htmlReporter = new jasmine.HtmlReporter();
      jasmineEnv.addReporter(htmlReporter);

      jasmineEnv.specFilter = function(spec) {
        return htmlReporter.specFilter(spec);
      };

      $(document).ready(function () {
        jasmineEnv.execute();
      });
    });
  </script>

<% }; %>
</head>
<body>
</body>
</html>
